<app-header></app-header>
<div class="container">
  <div class="row">
    <div class="col-3">
      <form [formGroup]="registerItem" (ngSubmit)="register()">
        <div class="mt-2 ">
          <h5>Enter Item details</h5>
        </div>
        <div *ngIf="itemRegister" class="p-3 mb-2 bg-info text-white">Item is Registered</div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label>Item name</label>
            <input type="text" class="form-control" formControlName="itemName" id="itemName" placeholder="Item Name">
            <span *ngIf="itemName?.invalid && itemName?.touched" class="text-danger">*Please enter item Name </span>
          </div>
          <div class="form-group col-md-6">
            <label>Item Description</label>
            <input type="text" class="form-control" formControlName="itemDescription" id="itemDescription"
              placeholder="Item Description">
            <span *ngIf="itemDescription?.invalid && itemDescription?.touched" class="text-danger">*Please enter Item
              Description </span>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label>Price</label>
            <input type="number" class="form-control" formControlName="price" id="price" placeholder="Price">
            <span *ngIf="price?.invalid && price?.touched" class="text-danger">*Please enter Price</span>

          </div>
          <div class="form-group col-md-6">
            <label>Quntity</label>
            <input type="number" class="form-control" formControlName="quntity" id="quntity" placeholder="Quntity">
            <span *ngIf="quntity?.invalid && quntity?.touched" class="text-danger">*Please enter quntity</span>

          </div>
        </div>
        <button class="btn-primary btn-sm" [disabled]="registerItem.invalid">Submit</button>

      </form>
    </div>

    <div class="col-9 mt-2">
      <p-table [columns]="cols" [value]="itemList" sortMode="multiple" [responsive]="true" [paginator]="true"
        [rows]="10">
        <ng-template pTemplate="caption" class="text-center">
          Item List
        </ng-template>
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th *ngFor="let col of columns" [pSortableColumn]="col.field" class="table_width">
              {{col.header}}


            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user let-columns="columns">
          <tr>
            <td *ngFor="let col of columns" class="coloumn_width">
              {{user[col.field]}}
              <span *ngIf="col.field=='action'">
                <button type="button" (click)="goToUpdate(user.item_id)" class="btn btn-sm mr-2 btn-primary">Edit</button>
                <button type="button" class="btn btn-sm btn-danger" (click)="deleteItem(user.item_id)">Delete</button>
              </span>
            </td>
          </tr>



        </ng-template>
      </p-table>

    </div>

  </div>

  <!-- Button trigger modal -->